[{"C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\index.js":"1","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\reportWebVitals.js":"2","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\App.js":"3","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\reducers\\index.js":"4","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\firebase.js":"5","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\pages\\auth\\Login.js":"6","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\pages\\auth\\Home.js":"7","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\pages\\auth\\Register.js":"8","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\pages\\auth\\ForgotPassword.js":"9","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\pages\\auth\\RegisterComplete.js":"10","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\pages\\components\\nav\\Header.js":"11","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\reducers\\userReducer.js":"12"},{"size":1023,"mtime":1701267463408,"results":"13","hashOfConfig":"14"},{"size":375,"mtime":1701267463417,"results":"15","hashOfConfig":"14"},{"size":1853,"mtime":1701267463405,"results":"16","hashOfConfig":"14"},{"size":182,"mtime":1701267463416,"results":"17","hashOfConfig":"14"},{"size":707,"mtime":1701267463406,"results":"18","hashOfConfig":"14"},{"size":3871,"mtime":1701267463411,"results":"19","hashOfConfig":"14"},{"size":153,"mtime":1701267463411,"results":"20","hashOfConfig":"14"},{"size":1900,"mtime":1701267463412,"results":"21","hashOfConfig":"14"},{"size":2050,"mtime":1701267463410,"results":"22","hashOfConfig":"14"},{"size":2335,"mtime":1701267463413,"results":"23","hashOfConfig":"14"},{"size":1871,"mtime":1701267463415,"results":"24","hashOfConfig":"14"},{"size":287,"mtime":1701267463416,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},"12q7ic8",{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63"},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\index.js",["67","68"],[],"import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {BrowserRouter, createBrowserRouter, RouterProvider} from 'react-router-dom';\r\nimport { Provider } from \"react-redux\";\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport rootReducer from './reducers';\r\n\r\n// const store = createStore(rootReducer, composeWithDevTools())\r\nconst store = configureStore({reducer: rootReducer}, composeWithDevTools())\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\reportWebVitals.js",[],[],"C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\App.js",["69","70","71","72"],[],"import React, {useEffect} from \"react\";\r\nimport {createBrowserRouter, Router, Routes, Route, RouterProvider} from 'react-router-dom';\r\nimport {ToastContainer} from 'react-toastify';\r\nimport { auth } from \"./firebase\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Login from \"./pages/auth/Login\";\r\nimport Register from \"./pages/auth/Register\";\r\nimport Home from \"./pages/auth/Home\";\r\nimport Header from \"./pages/components/nav/Header\";\r\nimport RegisterComplete from \"./pages/auth/RegisterComplete\";\r\nimport ForgotPassword from \"./pages/auth/ForgotPassword\";\r\n\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch()\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\r\n        if(user){\r\n          const idTokenResult = await user.getIdTokenResult()\r\n          console.log(\"user\",user);\r\n          dispatch({\r\n            type: 'LOGGED_IN_USER',\r\n            payload: {\r\n              email: user.email,\r\n              token: idTokenResult.token\r\n            }\r\n        })\r\n      }\r\n    })\r\n    return () => unsubscribe()\r\n  },[])\r\n  \r\n  return (\r\n    <>\r\n      <Header />\r\n      <ToastContainer\r\n        position=\"top-right\"\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n        theme=\"light\"\r\n      />\r\n      <Routes>\r\n        <Route exact path=\"/\" element={<Home />}/>\r\n        <Route exact path=\"/register\" element={<Register />}/>\r\n        <Route exact path=\"/login\" element={<Login />}/>\r\n        <Route exact path=\"/register/complete\" element={<RegisterComplete />}/>\r\n        <Route exact path=\"/forgot/password\" element={<ForgotPassword />}/>\r\n      </Routes>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\reducers\\index.js",[],[],"C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\firebase.js",[],[],"C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\pages\\auth\\Login.js",["73","74","75","76","77"],[],"import React, { useState, useEffect } from \"react\";\r\nimport {auth, googleAuthProvider} from '../../firebase';\r\nimport { GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\r\nimport {toast} from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { sendSignInLinkToEmail, signInWithEmailAndPassword, getAuth } from 'firebase/auth';\r\nimport { Button } from \"antd\";\r\nimport { MailOutlined, GoogleOutlined } from \"@ant-design/icons\";\r\nimport { useDispatch, useSelector} from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Login = () =>{\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const {user} = useSelector((state) => ({...state}))\r\n    const provider = new GoogleAuthProvider();\r\n    let dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            window.history.pushState({}, undefined, \"/\")\r\n            window.location.reload()\r\n        } \r\n    }, [user])\r\n\r\n\r\n    const handleSubmit = async (e)=>{\r\n        e.preventDefault()\r\n        const auth = getAuth();\r\n        const result = await signInWithEmailAndPassword(auth, email, password)\r\n        .then((userCredential) => {\r\n            // Signed in \r\n            const user = userCredential.user;\r\n            dispatch({\r\n                type: \"LOGGED_IN_USER\",\r\n                payload: {\r\n                    email: user.email,\r\n                    token: user.accessToken,\r\n                    userName: user.displayName\r\n                }\r\n            })\r\n            window.location.reload()\r\n        })\r\n        .catch((error) => {\r\n            console.log(error)\r\n            if (error.code === \"auth/invalid-login-credentials\") {\r\n                toast.error(\"Sai tên tài khoản hoặc mật khẩu\");\r\n            }\r\n        });\r\n        window.history.pushState({}, undefined, \"/\")\r\n    }\r\n\r\n    const googleLogin = async (e) => {\r\n        const auth = getAuth()\r\n        const result = signInWithPopup(auth, provider)\r\n        .then(async (result) => {\r\n            // console.log(result);\r\n            const {user} = result;\r\n            dispatch({\r\n                type: \"LOGGED_IN_USER\",\r\n                payload: {\r\n                    email: user.email,\r\n                    token: user.accessToken\r\n                }\r\n            })\r\n            window.location.reload()\r\n        })\r\n        .catch((error)=> {\r\n\r\n        })\r\n        window.history.pushState({}, undefined, \"/\")\r\n    }  \r\n\r\n    const loginForm = () => \r\n    <form>\r\n        <input autoFocus type=\"email\" value={email} className='form-control' onChange={e => {setEmail(e.target.value)}} placeholder=\"Nhập email\" style={{margin: '10px 0'}}></input>\r\n        <input type=\"password\" value={password} className='form-control' onChange={e => {setPassword(e.target.value)}} placeholder=\"Nhập mật khẩu\"style={{margin: '10px 0'}}></input>\r\n        <Button\r\n        onClick={handleSubmit}\r\n        type=\"primary\"\r\n        className='mb-3' \r\n        block \r\n        shape='round'\r\n        icon={<MailOutlined />}\r\n        size=\"large\"\r\n        disabled={!email || password.length < 6}>Đăng nhập bằng Email</Button>\r\n\r\n        <Button\r\n        onClick={googleLogin}\r\n        type=\"primary\"\r\n        danger\r\n        className='mb-3' \r\n        block \r\n        shape='round'\r\n        icon={<GoogleOutlined />}\r\n        size=\"large\">Đăng nhập bằng Gmail</Button>\r\n\r\n        <Link to=\"/forgot/password\" className=\"float-end text-danger\">Quên mật khẩu</Link>\r\n    </form>\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Login</h4>\r\n                    {loginForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\pages\\auth\\Home.js",[],[],"C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\pages\\auth\\Register.js",[],[],"C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\pages\\auth\\ForgotPassword.js",["78","79","80","81","82"],[],"import React, { useState, useEffect } from \"react\";\r\nimport {auth, googleAuthProvider} from '../../firebase';\r\nimport {toast} from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { sendSignInLinkToEmail, signInWithEmailAndPassword, getAuth, sendPasswordResetEmail, fetchSignInMethodsForEmail} from 'firebase/auth';\r\nimport { Button } from \"antd\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst ForgotPassword = () => {\r\n    const [email, setEmail] = useState(\"\")\r\n    const {user} = useSelector((state) => ({...state}))\r\n\r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            window.history.pushState({}, undefined, \"/\")\r\n            window.location.reload()\r\n        } \r\n    }, [user])\r\n\r\n    const config = {\r\n        url: `http://localhost:3000/login`,\r\n        handleCodeInApp: true\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        const auth = getAuth()\r\n            await sendPasswordResetEmail(auth, email, config)\r\n            .then(() => {\r\n                setEmail('')\r\n                toast.success('Check ur email 4 password reset link')\r\n            })\r\n            .catch((error) => {\r\n                if(email === \"\" && error.code === \"auth/missing-email\"){\r\n                    toast.error(\"Hãy nhập email\")\r\n                }\r\n                if(email && error.code === \"auth/missing-email\"){\r\n                    toast.error(\"Email không tồn tại\")\r\n                }\r\n            })\r\n    }\r\n\r\n    return(\r\n        <div className=\"container col-md-6 offset-md-3 p-5\">\r\n            <h4>Forgot password</h4>\r\n            <form>\r\n                <input autoFocus type=\"email\" value={email} className='form-control' onChange={e => {setEmail(e.target.value)}} \r\n                placeholder=\"Nhập email\" style={{margin: '10px 0'}}></input>\r\n                <Button className=\"btn btn-raised\" type=\"primary\" block size=\"large\"  onClick={handleSubmit}>Submit</Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default ForgotPassword;","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\pages\\auth\\RegisterComplete.js",[],[],"C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\pages\\components\\nav\\Header.js",["83","84","85","86","87"],[],"import React, { useState } from 'react';\r\nimport { LogoutOutlined, UserOutlined, UserAddOutlined } from '@ant-design/icons';\r\nimport { Menu } from 'antd';\r\nimport {Link, useSearchParams} from 'react-router-dom'\r\nimport { signOut, getAuth } from 'firebase/auth';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport useSelection from 'antd/es/table/hooks/useSelection';\r\n\r\nconst { SubMenu, Item } = Menu;\r\n\r\nconst Header = () => {\r\n  const [current, setCurrent] = useState('mail');\r\n  let dispatch = useDispatch()\r\n  let state = useSelector((state) => state)\r\n  let user = state.user\r\n\r\n  const onClick = (e) => {\r\n    console.log('click ', e);\r\n    setCurrent(e.key);\r\n  };\r\n\r\n  const logout = () => {\r\n    const auth = getAuth();\r\n    signOut(auth)\r\n    .then(() => {\r\n      dispatch({\r\n        type: 'LOGOUT',\r\n        payload: null\r\n      })\r\n    }).catch((error) => {\r\n      \r\n    });\r\n    window.history.pushState({}, undefined, \"/home\");\r\n  }\r\n  return (\r\n    <>\r\n      <Menu onClick={onClick} mode=\"horizontal\" style={{display: 'block'}}>\r\n        <Item key='home' icon={<UserAddOutlined />}><Link to='/'>Home</Link></Item>\r\n        {!user && (\r\n          <Item key='login' icon={<UserAddOutlined />} className=\"float-end\"><Link to='/login'>Login</Link></Item>\r\n        )}\r\n\r\n        {!user && (\r\n          <Item key='register' icon={<UserAddOutlined />} className=\"float-end\"><Link to='/register'>Register</Link></Item>\r\n        )}\r\n\r\n        {user && (\r\n          <Menu.SubMenu key='app' icon={<UserAddOutlined />} className='float-end' title={!state ? '' : state.user.email}>\r\n            <Menu.Item>AAA</Menu.Item>\r\n            <Menu.Item>AAA</Menu.Item>\r\n            <Menu.Item icon={< LogoutOutlined />} onClick={logout}>Log out</Menu.Item>\r\n          </Menu.SubMenu>\r\n        )}\r\n        \r\n      </Menu>\r\n    </>\r\n  )\r\n};\r\nexport default Header;","C:\\Users\\MTBH.vn\\Documents\\GitHub\\ecomerce\\client\\src\\reducers\\userReducer.js",[],[],{"ruleId":"88","severity":1,"message":"89","line":6,"column":24,"nodeType":"90","messageId":"91","endLine":6,"endColumn":43},{"ruleId":"88","severity":1,"message":"92","line":6,"column":45,"nodeType":"90","messageId":"91","endLine":6,"endColumn":59},{"ruleId":"88","severity":1,"message":"89","line":2,"column":9,"nodeType":"90","messageId":"91","endLine":2,"endColumn":28},{"ruleId":"88","severity":1,"message":"93","line":2,"column":30,"nodeType":"90","messageId":"91","endLine":2,"endColumn":36},{"ruleId":"88","severity":1,"message":"92","line":2,"column":53,"nodeType":"90","messageId":"91","endLine":2,"endColumn":67},{"ruleId":"94","severity":1,"message":"95","line":32,"column":5,"nodeType":"96","endLine":32,"endColumn":7,"suggestions":"97"},{"ruleId":"88","severity":1,"message":"98","line":2,"column":9,"nodeType":"90","messageId":"91","endLine":2,"endColumn":13},{"ruleId":"88","severity":1,"message":"99","line":2,"column":15,"nodeType":"90","messageId":"91","endLine":2,"endColumn":33},{"ruleId":"88","severity":1,"message":"100","line":6,"column":10,"nodeType":"90","messageId":"91","endLine":6,"endColumn":31},{"ruleId":"88","severity":1,"message":"101","line":30,"column":15,"nodeType":"90","messageId":"91","endLine":30,"endColumn":21},{"ruleId":"88","severity":1,"message":"101","line":55,"column":15,"nodeType":"90","messageId":"91","endLine":55,"endColumn":21},{"ruleId":"88","severity":1,"message":"98","line":2,"column":9,"nodeType":"90","messageId":"91","endLine":2,"endColumn":13},{"ruleId":"88","severity":1,"message":"99","line":2,"column":15,"nodeType":"90","messageId":"91","endLine":2,"endColumn":33},{"ruleId":"88","severity":1,"message":"100","line":5,"column":10,"nodeType":"90","messageId":"91","endLine":5,"endColumn":31},{"ruleId":"88","severity":1,"message":"102","line":5,"column":33,"nodeType":"90","messageId":"91","endLine":5,"endColumn":59},{"ruleId":"88","severity":1,"message":"103","line":5,"column":94,"nodeType":"90","messageId":"91","endLine":5,"endColumn":120},{"ruleId":"88","severity":1,"message":"104","line":2,"column":26,"nodeType":"90","messageId":"91","endLine":2,"endColumn":38},{"ruleId":"88","severity":1,"message":"105","line":4,"column":15,"nodeType":"90","messageId":"91","endLine":4,"endColumn":30},{"ruleId":"88","severity":1,"message":"106","line":7,"column":8,"nodeType":"90","messageId":"91","endLine":7,"endColumn":20},{"ruleId":"88","severity":1,"message":"107","line":9,"column":9,"nodeType":"90","messageId":"91","endLine":9,"endColumn":16},{"ruleId":"88","severity":1,"message":"108","line":12,"column":10,"nodeType":"90","messageId":"91","endLine":12,"endColumn":17},"no-unused-vars","'createBrowserRouter' is defined but never used.","Identifier","unusedVar","'RouterProvider' is defined but never used.","'Router' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["109"],"'auth' is defined but never used.","'googleAuthProvider' is defined but never used.","'sendSignInLinkToEmail' is defined but never used.","'result' is assigned a value but never used.","'signInWithEmailAndPassword' is defined but never used.","'fetchSignInMethodsForEmail' is defined but never used.","'UserOutlined' is defined but never used.","'useSearchParams' is defined but never used.","'useSelection' is defined but never used.","'SubMenu' is assigned a value but never used.","'current' is assigned a value but never used.",{"desc":"110","fix":"111"},"Update the dependencies array to be: [dispatch]",{"range":"112","text":"113"},[1116,1118],"[dispatch]"]