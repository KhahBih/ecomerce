{"ast":null,"code":"import React,{useState}from'react';import{LogoutOutlined,UserOutlined,UserAddOutlined}from'@ant-design/icons';import{Menu}from'antd';import{Link,useSearchParams}from'react-router-dom';import{signOut,getAuth}from'firebase/auth';import{useDispatch,useSelector}from'react-redux';import useSelection from'antd/es/table/hooks/useSelection';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const{SubMenu,Item}=Menu;const Header=()=>{const[current,setCurrent]=useState('mail');let dispatch=useDispatch();let state=useSelector(state=>state);let user=state.user;const onClick=e=>{console.log('click ',e);setCurrent(e.key);};const logout=()=>{const auth=getAuth();signOut(auth).then(()=>{dispatch({type:'LOGOUT',payload:null});}).catch(error=>{});window.history.pushState({},undefined,\"/home\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Menu,{onClick:onClick,mode:\"horizontal\",style:{display:'block'},children:[/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(UserAddOutlined,{}),children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})},'home'),!user&&/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(UserAddOutlined,{}),className:\"float-end\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})},'login'),!user&&/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(UserAddOutlined,{}),className:\"float-end\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})},'register'),user&&/*#__PURE__*/_jsxs(Menu.SubMenu,{icon:/*#__PURE__*/_jsx(UserAddOutlined,{}),className:\"float-end\",title:!state?'':state.user.email,children:[/*#__PURE__*/_jsx(Menu.Item,{children:\"AAA\"}),/*#__PURE__*/_jsx(Menu.Item,{children:\"AAA\"}),/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(LogoutOutlined,{}),onClick:logout,children:\"Log out\"})]},'app')]})});};export default Header;","map":{"version":3,"names":["React","useState","LogoutOutlined","UserOutlined","UserAddOutlined","Menu","Link","useSearchParams","signOut","getAuth","useDispatch","useSelector","useSelection","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SubMenu","Item","Header","current","setCurrent","dispatch","state","user","onClick","e","console","log","key","logout","auth","then","type","payload","catch","error","window","history","pushState","undefined","children","mode","style","display","icon","to","className","title","email"],"sources":["C:/Users/MTBH.vn/Documents/GitHub/ecomerce/client/src/pages/components/nav/Header.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { LogoutOutlined, UserOutlined, UserAddOutlined } from '@ant-design/icons';\r\nimport { Menu } from 'antd';\r\nimport {Link, useSearchParams} from 'react-router-dom'\r\nimport { signOut, getAuth } from 'firebase/auth';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport useSelection from 'antd/es/table/hooks/useSelection';\r\n\r\nconst { SubMenu, Item } = Menu;\r\n\r\nconst Header = () => {\r\n  const [current, setCurrent] = useState('mail');\r\n  let dispatch = useDispatch()\r\n  let state = useSelector((state) => state)\r\n  let user = state.user\r\n\r\n  const onClick = (e) => {\r\n    console.log('click ', e);\r\n    setCurrent(e.key);\r\n  };\r\n\r\n  const logout = () => {\r\n    const auth = getAuth();\r\n    signOut(auth)\r\n    .then(() => {\r\n      dispatch({\r\n        type: 'LOGOUT',\r\n        payload: null\r\n      })\r\n    }).catch((error) => {\r\n      \r\n    });\r\n    window.history.pushState({}, undefined, \"/home\");\r\n  }\r\n  return (\r\n    <>\r\n      <Menu onClick={onClick} mode=\"horizontal\" style={{display: 'block'}}>\r\n        <Item key='home' icon={<UserAddOutlined />}><Link to='/'>Home</Link></Item>\r\n        {!user && (\r\n          <Item key='login' icon={<UserAddOutlined />} className=\"float-end\"><Link to='/login'>Login</Link></Item>\r\n        )}\r\n\r\n        {!user && (\r\n          <Item key='register' icon={<UserAddOutlined />} className=\"float-end\"><Link to='/register'>Register</Link></Item>\r\n        )}\r\n\r\n        {user && (\r\n          <Menu.SubMenu key='app' icon={<UserAddOutlined />} className='float-end' title={!state ? '' : state.user.email}>\r\n            <Menu.Item>AAA</Menu.Item>\r\n            <Menu.Item>AAA</Menu.Item>\r\n            <Menu.Item icon={< LogoutOutlined />} onClick={logout}>Log out</Menu.Item>\r\n          </Menu.SubMenu>\r\n        )}\r\n        \r\n      </Menu>\r\n    </>\r\n  )\r\n};\r\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}